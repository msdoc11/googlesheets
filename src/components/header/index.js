import { useState, useEffect } from 'react'
import { useLocation } from 'react-router-dom'
import { language } from '../../setting'

export const Header = ({ languageSetting, innerWidth }) => {
    const [ optionActive, setOptionActive ] = useState(language[0])
    const [ option, setOption ] = useState(language[1])

    const [ active, setActive ] = useState(false)
    const [ activeManu, setActiveMenu ] = useState(false)

    const setLanguage = () => {
        setActive(!active)
    }

    
    const location = useLocation()
    
    useEffect(() => {
        if(location.pathname.indexOf(language[0].value) >= 0) {
            setOptionActive(language[0])
            setOption(language[1])
        }
        if(location.pathname.indexOf(language[1].value) >= 0) {
            setOptionActive(language[1])
            setOption(language[0])
        }
    }, [location])

    const ClickMenu = () => {
        setActiveMenu(!activeManu)
    }

    const styles = active ? "language-change active" : "language-change"
    const stylesMenu = activeManu === true && innerWidth <= 960 ? "header-links active" : "header-links"

    return (
        <header>
        <div className="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="175" height="40" viewBox="0 0 175 40" fill="none">
                <path d="M69.15 30.22C73.71 30.22 76.95 27.82 76.95 23.77C76.95 19.33 73.38 18.22 70.2 17.26C66.93 16.27 66.42 15.61 66.42 14.65C66.42 13.81 67.17 13.06 68.67 13.06C70.59 13.06 71.58 13.99 72.3 15.49L76.35 13.12C74.82 10.03 72.12 8.38005 68.67 8.38005C65.04 8.38005 61.62 10.72 61.62 14.77C61.62 18.79 64.68 20.29 67.8 21.16C70.95 22.03 72.15 22.54 72.15 23.83C72.15 24.64 71.58 25.54 69.3 25.54C66.93 25.54 65.64 24.37 64.89 22.63L60.75 25.03C61.92 28.12 64.74 30.22 69.15 30.22ZM96.1823 29.8L88.8023 19.03L95.8823 8.80005H90.4223L84.0023 17.92V8.80005H79.2023V29.8H84.0023V20.08L90.7223 29.8H96.1823ZM115.082 8.80005H109.622L105.632 16.9L101.642 8.80005H96.1816L103.232 21.73V29.8H108.032V21.73L115.082 8.80005ZM130.948 29.8H132.778L127.558 20.98C130.228 20.26 132.178 17.86 132.178 15.01C132.178 11.59 129.388 8.80005 125.968 8.80005H117.688V29.8H119.278V21.19H125.908L130.948 29.8ZM119.278 10.3H125.968C128.518 10.3 130.588 12.4 130.588 15.01C130.588 17.59 128.518 19.69 125.968 19.69H119.278V10.3ZM137.677 28.3V19.96H147.277V18.46H137.677V10.3H148.027V8.80005H136.087V29.8H148.177V28.3H137.677ZM165.973 29.8L158.983 19L165.583 8.80005H163.753L158.083 17.59L152.383 8.80005H150.553L157.153 19L150.163 29.8H152.023L158.083 20.44L164.143 29.8H165.973Z" fill="#18D3BD" />
                <path d="M9.16248 16.25C10.7694 16.25 12.3403 15.7735 13.6765 14.8807C15.0126 13.9879 16.054 12.719 16.669 11.2343C17.284 9.74966 17.4449 8.11599 17.1314 6.53989C16.8179 4.9638 16.044 3.51606 14.9077 2.37976C13.7714 1.24346 12.3237 0.469628 10.7476 0.156123C9.17149 -0.157382 7.53782 0.00352044 6.05317 0.618482C4.56852 1.23344 3.29957 2.27485 2.40679 3.611C1.514 4.94714 1.03748 6.51803 1.03748 8.125C1.03748 9.19199 1.24764 10.2485 1.65595 11.2343C2.06427 12.2201 2.66276 13.1158 3.41723 13.8702C4.94097 15.394 7.00759 16.25 9.16248 16.25ZM9.16248 5C9.78054 5 10.3847 5.18328 10.8986 5.52666C11.4125 5.87004 11.8131 6.3581 12.0496 6.92912C12.2861 7.50014 12.348 8.12847 12.2274 8.73466C12.1069 9.34085 11.8092 9.89767 11.3722 10.3347C10.9351 10.7718 10.3783 11.0694 9.77213 11.19C9.16594 11.3105 8.53761 11.2486 7.96659 11.0121C7.39557 10.7756 6.90751 10.3751 6.56413 9.86116C6.22075 9.34726 6.03748 8.74307 6.03748 8.125C6.03748 7.2962 6.36672 6.50135 6.95277 5.91529C7.53882 5.32924 8.33367 5 9.16248 5Z" fill="#D0D0D0" />
                <path d="M38.5375 31.875C38.5375 30.268 38.061 28.6971 37.1682 27.361C36.2754 26.0248 35.0064 24.9834 33.5218 24.3685C32.0371 23.7535 30.4035 23.5926 28.8274 23.9061C27.2513 24.2196 25.8035 24.9935 24.6672 26.1298C23.5309 27.2661 22.7571 28.7138 22.4436 30.2899C22.1301 31.866 22.291 33.4997 22.906 34.9843C23.5209 36.469 24.5623 37.7379 25.8985 38.6307C27.2346 39.5235 28.8055 40 30.4125 40C32.5674 40 34.634 39.144 36.1577 37.6202C37.6815 36.0965 38.5375 34.0299 38.5375 31.875ZM27.2875 31.875C27.2875 31.2569 27.4708 30.6527 27.8141 30.1388C28.1575 29.6249 28.6456 29.2244 29.2166 28.9879C29.7876 28.7514 30.4159 28.6895 31.0221 28.8101C31.6283 28.9306 32.1852 29.2283 32.6222 29.6653C33.0592 30.1023 33.3569 30.6592 33.4774 31.2653C33.598 31.8715 33.5361 32.4999 33.2996 33.0709C33.0631 33.6419 32.6625 34.13 32.1486 34.4733C31.6347 34.8167 31.0305 35 30.4125 35C29.5837 35 28.7888 34.6708 28.2028 34.0847C27.6167 33.4987 27.2875 32.7038 27.2875 31.875Z" fill="#D0D0D0" />
                <path d="M32.2875 12.0875V0H27.2875V12.0875L23.5375 8.3375L20 11.875L26.95 18.825C27.3221 19.1975 27.7639 19.493 28.2502 19.6946C28.7366 19.8962 29.2579 19.9999 29.7844 19.9999C30.3108 19.9999 30.8322 19.8962 31.3185 19.6946C31.8048 19.493 32.2467 19.1975 32.6187 18.825L39.575 11.875L36.0375 8.3375L32.2875 12.0875Z" fill="#D0D0D0" />
                <path d="M3.5375 31.6624L7.2875 27.9124V39.9999H12.2875V27.9124L16.0375 31.6624L19.575 28.1249L12.625 21.1749C12.2529 20.8025 11.8111 20.507 11.3247 20.3054C10.8384 20.1038 10.3171 20 9.79063 20C9.26415 20 8.74284 20.1038 8.2565 20.3054C7.77016 20.507 7.32832 20.8025 6.95625 21.1749L0 28.1249L3.5375 31.6624Z" fill="#D0D0D0" />
            </svg>
        </div>
        <div className={styles}>
            <button onClick={() => setActive(!active)} className="inline-block change-btn current">{optionActive.label}</button>
            <div onClick={() => setLanguage()} className="block language-menu"><a href={option.value + option.link} className="block">{option.label}</a></div>
        </div>
        <div className={stylesMenu}>
            <a href="https://skyrex.io/blog" className="blog-btn">{languageSetting.title}</a>
            <a href="#" className="start-btn" onClick={() => ClickMenu()}>{languageSetting.authButton}</a>
        </div>
        <div className="menu-btn"  onClick={() => ClickMenu()}>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="14" viewBox="0 0 16 14" fill="none">
                <path d="M5.59966 8.11765C5.3032 8.11765 5.01889 7.99988 4.80926 7.79026C4.59964 7.58063 4.48187 7.29632 4.48187 6.99987C4.48187 6.70341 4.59964 6.4191 4.80926 6.20947C5.01889 5.99985 5.3032 5.88208 5.59966 5.88208H14.4418C14.7382 5.88208 15.0226 5.99985 15.2322 6.20947C15.4418 6.4191 15.5596 6.70341 15.5596 6.99987C15.5596 7.29632 15.4418 7.58063 15.2322 7.79026C15.0226 7.99988 14.7382 8.11765 14.4418 8.11765H5.59966Z" fill="black" />
                <path d="M-2.86102e-06 1.11779C0.00140762 0.821765 0.119626 0.538271 0.328946 0.32895C0.538267 0.11963 0.821762 0.00141076 1.11778 0H14.4418C14.7382 0 15.0226 0.117766 15.2322 0.327392C15.4418 0.537017 15.5596 0.82133 15.5596 1.11779C15.5596 1.41424 15.4418 1.69855 15.2322 1.90818C15.0226 2.1178 14.7382 2.23557 14.4418 2.23557H1.11778C0.822337 2.23232 0.53991 2.1135 0.330986 1.90458C0.122063 1.69566 0.00325108 1.41323 -2.86102e-06 1.11779Z" fill="black" />
                <path d="M14.4418 14H8.62036C8.3239 14 8.03959 13.8822 7.82996 13.6726C7.62034 13.463 7.50257 13.1786 7.50257 12.8822C7.50257 12.5857 7.62034 12.3014 7.82996 12.0918C8.03959 11.8822 8.3239 11.7644 8.62036 11.7644H14.4418C14.7382 11.7644 15.0226 11.8822 15.2322 12.0918C15.4418 12.3014 15.5596 12.5857 15.5596 12.8822C15.5596 13.1786 15.4418 13.463 15.2322 13.6726C15.0226 13.8822 14.7382 14 14.4418 14Z" fill="black" />
            </svg>
        </div>
    </header>
    )
}